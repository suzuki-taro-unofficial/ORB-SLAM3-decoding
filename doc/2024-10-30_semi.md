# やったこと

## 全体

今回も環境構築寄り。

- 八巻のPCでの動作確認をしたところ、MapViewerのなかでsegmentation faultが起きる。
- 藤原がOSをubuntu 18.04に変更し依存関係をORB_SLAM3の推奨に変更して試したところ、終了時のsegmentation faultが起こらなかった。
- これらを踏まえ、現在Dockerで18.04のubuntuで動作確認をしている。
  - いろんな問題にあたってまだ未完了
- CMakeファイルの大幅見直しをするなどして、モダンなCMakeになった。
  - サードパーティの個別ビルドをしていた部分などがまとまり、だいぶ見通しが良くなった
- ビルド以外にも、exampleの実行スクリプトなどを用意し、これからの作業をやりやすくした。

リファクタリング周り

- コンフィグのデータ形式が、1.0以前と以後で変わっており、その後方互換のためのコードが多く残っていた。
  - example-oldの方で使われる
  - これを削除して、1.0以降のみ対応としてコードの大幅削減

## kato

## fujiwara

Trackingはどうしても必要になったら読むことにしたので、今週は開発環境周りの整備を行った

1. CMakeListsの中身を整理した
   - 以前はルート直下のCMakeListsにすべてを記述していたので、各ディレクトリにそれ用の処理を分けて書いた
2. 古い設定の読み込みコードを削除した
   - v1.0とそれ以前で設定ファイルの形式が異なっており、それぞれに対応させるために古いコードと新しいコードが同居していた
   - Example_oldを消去したことで古いコードは必要なくなったので、それを削除してコードの見通しを良くした
3. Dockerfileを追加して、各操作をmakeを起点に行えるようにした
   - 環境の差異で実行結果が異なっていたので、加藤君のDockerfileを元に環境を構築できるスクリプトを書いて、makeを用いて動作させる方式にした
   - 具体的には、 `make dev` でdockerの環境構築と実行を行い、docker内で `make build` や `make run` を行うことでビルドと実行ができるようにした

## yamaki
